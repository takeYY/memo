# Chapter.06: Amazon VPC

{docsify-updated}

###### tags: `.AWS`, `.Introduction`, `.Book`, `.Tech`

---

### 6.1: VPC とは

- Virtual Private Cloud
- 仮想ネットワークサービス
- AWS リソースを動かす土台

### 6.2: サブネット

- VPC で作成したネットワークから分割した小さいネットワークのこと
- サブネットマスク
  - サブネットが確保する IP アドレスの範囲
- VPC(一枚のピザ)からサブネット(食べやすいサイズのピザ)に切るイメージ
- パブリックサブネット
  - インターネットに接続されているサブネット
- プライベートサブネット
  - インターネットに接続されていないサブネット

### 6.3: ルートテーブル

- ルート
  - 分割したネットワーク同士をつなげる通信経路
- ルートテーブル
  - ルートをまとめたデータ構造

### 6.4: インターネットゲートウェイ

- インターネットゲートウェイ
  - インターネットへの接続口
- パブリックサブネット
  - インターネットゲートウェイに繋げるサブネット

### 6.5: NAT ゲートウェイ

- NAT (Network Address Translation)
  - 自身の IP アドレスを公開せずに、他の IP アドレスに見せかける技術
- NAT Gateway
  - NAT を仮想コンポーネントとして提供
  - パブリックサブネットに配置することで、プライベートサブネットからインターネットにアクセス可能

### 6.6: Elastic IP アドレス

- IPv4 で構成される静的なパブリック IP アドレス
- IP アドレスを固定化したい時に設定する
- 動的 IP アドレス
  - IP アドレスが変更されることがある
  - 無料
- 静的 IP アドレス
  - IP アドレスを固定化できる
  - 課金される
    - 起動中の EC2 インスタンスにアタッチしている場合は無料
- IP アドレスの解放
  - IP アドレスを動的に変える

#### 6.7: Elastic Network Interface

- NIC (Network Interface Card)
- NIC を増設すると 1 つの端末に複数の IP アドレスを割り振れる
- ENI (Elastic Network Interface)
  - AWS マネジメントコンソール上で追加できる NIC

#### 6.8: セキュリティグループ

- SG (Security Group)
  - インバウンドトラフィックとアウトバウンドトラフィックを制御する仮想ファイアウォール

#### 6.9: ネットワーク ACL

- ファイアウォール
- ネットワーク ACL (Access Control List)
- ステートフル
  - 通信の状態が保存されていること
  - 例) セキュリティグループ
- ステートレス
  - 通信の状態が保存されていないこと
  - In と Out を設定する必要がある
  - 例) ネットワーク ACL
- プロトコル
- TCP (Transmission Control Protocol)
- UDP (User Datagram Protocol)
- ポート
- OSI 参照モデル

#### 6.10: VPC エンドポイント

- VPC 内の EC2 インスタンスから VPC の外側にある AWS サービスと通信する場合、通常はインターネットを経由する
- インターネットを経由してしまうと、以下の問題がある
  - 回線が安定しない
  - セキュリティ要件に抵触する可能性
- VPC エンドポイント
  - インターネットを経由しない共通の接続点
  - VPC 上で設定可能
  - AWS PrivateLink と併用すればプライベート連携可能

#### 6.11: VPC ピアリング接続

- サブネットとして区切った VPC 同士を接続する VPC オプション

#### 6.12 VPC フローリング
